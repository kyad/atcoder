# ARC149 B

[1] A[i]とB[i]をペアにして動かす構造なので、A[i]とB[i]をペアにして好きに並び変えて良いことに気付く。

[2] Aを固定したいので、Aを1,2,3, .. Nの順に並び変えるとどうなるかを考える。すると、サンプルケースではAを1,2,3, .. Nの順に並び変えても答は同じであるため、答はN+(BのLISの長さ)になることに気付き、これが一般的に成り立ちそうであることに気付く。

[3] [2]を証明する。
LIS(A)+LIS(B)の最大値を与える任意の組み合わせSを考える。
Sから何回かのスワップ操作でAを1,2,3,...,Nの順に並び変えてもLIS(A)+LIS(B)は変わらない。
なぜなら、1回のスワップ操作でA側は必ず1増える。B側は1減るか1増えるかのいずれかだが、SがLIS(A)+LIS(B)の最大値を与える任意の組み合わせであることから1増えることはないので1減る。従って1回のスワップ操作でLIS(A)+LIS(B)は変わらない。
従って、Sから何回かのスワップ操作でAを1,2,3,...,Nの順に並び変えても、同様にLIS(A)+LIS(B)は変わらない。
