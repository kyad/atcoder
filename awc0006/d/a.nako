標準入力全取得して、改行で区切り、全入力に代入
全入力[0]を「 」で区切り、入力行に代入
入力行@0を整数変換して、Nに代入
入力行@1を整数変換して、Mに代入
LR=[]
jを0からM-1まで繰り返す
  全入力[1+j]を「 」で区切り、入力行に代入
  入力行@0を整数変換して、Lに代入
  入力行@1を整数変換して、Rに代入
  LR[j]=[L,R]
ここまで

LRを配列数値ソート
カバー=0
j=0
答え=0
カバー<Nの間
  新カバー=-1
  j<Mの間
    l=LR[j][0]
    r=LR[j][1]
    もし、l<=カバー+1ならば、
      新カバーは新カバーとrの最大値
      jを1増やす
    違えば、
      抜ける
    ここまで
  ここまで
  もし、新カバーが-1ならば、抜ける  # それ以上連続でカバーできなくなった
  カバー=新カバー
  答えを1増やす
ここまで
もし、カバー<Nならば、
  -1と言う
違えば、
  答えと言う
ここまで
